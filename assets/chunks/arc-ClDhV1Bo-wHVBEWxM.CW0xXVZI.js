import{aJ as on,aK as rn,aL as c,a9 as sn,aM as K,aN as P,aO as L,aP as en,a7 as C,aQ as un,aR as J,aS as y,aT as tn,aU as yn,aV as ln}from"./theme.ByJValNS.js";function fn(o){return o.innerRadius}function cn(o){return o.outerRadius}function xn(o){return o.startAngle}function pn(o){return o.endAngle}function gn(o){return o&&o.padAngle}function mn(o,h,z,D,d,Q,E,r){var B=z-o,t=D-h,n=E-d,p=r-Q,e=p*B-n*t;if(!(e*e<c))return e=(n*(h-Q)-p*(o-d))/e,[o+e*B,h+e*t]}function O(o,h,z,D,d,Q,E){var r=o-z,B=h-D,t=(E?Q:-Q)/J(r*r+B*B),n=t*B,p=-t*r,e=o+n,i=h+p,l=z+n,f=D+p,H=(e+l)/2,s=(i+f)/2,g=l-e,x=f-i,R=g*g+x*x,T=d-Q,A=e*f-l*i,G=(x<0?-1:1)*J(yn(0,T*T*R-A*A)),b=(A*x-g*G)/R,q=(-A*g-x*G)/R,S=(A*x+g*G)/R,m=(-A*g+x*G)/R,v=b-H,a=q-s,u=S-H,I=m-s;return v*v+a*a>u*u+I*I&&(b=S,q=m),{cx:b,cy:q,x01:-n,y01:-p,x11:b*(d/T-1),y11:q*(d/T-1)}}function hn(){var o=fn,h=cn,z=C(0),D=null,d=xn,Q=pn,E=gn,r=null,B=on(t);function t(){var n,p,e=+o.apply(this,arguments),i=+h.apply(this,arguments),l=d.apply(this,arguments)-rn,f=Q.apply(this,arguments)-rn,H=en(f-l),s=f>l;if(r||(r=n=B()),i<e&&(p=i,i=e,e=p),!(i>c))r.moveTo(0,0);else if(H>sn-c)r.moveTo(i*K(l),i*P(l)),r.arc(0,0,i,l,f,!s),e>c&&(r.moveTo(e*K(f),e*P(f)),r.arc(0,0,e,f,l,s));else{var g=l,x=f,R=l,T=f,A=H,G=H,b=E.apply(this,arguments)/2,q=b>c&&(D?+D.apply(this,arguments):J(e*e+i*i)),S=L(en(i-e)/2,+z.apply(this,arguments)),m=S,v=S,a,u;if(q>c){var I=tn(q/e*P(b)),U=tn(q/i*P(b));(A-=I*2)>c?(I*=s?1:-1,R+=I,T-=I):(A=0,R=T=(l+f)/2),(G-=U*2)>c?(U*=s?1:-1,g+=U,x-=U):(G=0,g=x=(l+f)/2)}var V=i*K(g),W=i*P(g),_=e*K(T),w=e*P(T);if(S>c){var M=i*K(x),N=i*P(x),Z=e*K(R),$=e*P(R),Y;if(H<un)if(Y=mn(V,W,Z,$,M,N,_,w)){var X=V-Y[0],j=W-Y[1],k=M-Y[0],F=N-Y[1],nn=1/P(ln((X*k+j*F)/(J(X*X+j*j)*J(k*k+F*F)))/2),an=J(Y[0]*Y[0]+Y[1]*Y[1]);m=L(S,(e-an)/(nn-1)),v=L(S,(i-an)/(nn+1))}else m=v=0}G>c?v>c?(a=O(Z,$,V,W,i,v,s),u=O(M,N,_,w,i,v,s),r.moveTo(a.cx+a.x01,a.cy+a.y01),v<S?r.arc(a.cx,a.cy,v,y(a.y01,a.x01),y(u.y01,u.x01),!s):(r.arc(a.cx,a.cy,v,y(a.y01,a.x01),y(a.y11,a.x11),!s),r.arc(0,0,i,y(a.cy+a.y11,a.cx+a.x11),y(u.cy+u.y11,u.cx+u.x11),!s),r.arc(u.cx,u.cy,v,y(u.y11,u.x11),y(u.y01,u.x01),!s))):(r.moveTo(V,W),r.arc(0,0,i,g,x,!s)):r.moveTo(V,W),!(e>c)||!(A>c)?r.lineTo(_,w):m>c?(a=O(_,w,M,N,e,-m,s),u=O(V,W,Z,$,e,-m,s),r.lineTo(a.cx+a.x01,a.cy+a.y01),m<S?r.arc(a.cx,a.cy,m,y(a.y01,a.x01),y(u.y01,u.x01),!s):(r.arc(a.cx,a.cy,m,y(a.y01,a.x01),y(a.y11,a.x11),!s),r.arc(0,0,e,y(a.cy+a.y11,a.cx+a.x11),y(u.cy+u.y11,u.cx+u.x11),s),r.arc(u.cx,u.cy,m,y(u.y11,u.x11),y(u.y01,u.x01),!s))):r.arc(0,0,e,T,R,s)}if(r.closePath(),n)return r=null,n+""||null}return t.centroid=function(){var n=(+o.apply(this,arguments)+ +h.apply(this,arguments))/2,p=(+d.apply(this,arguments)+ +Q.apply(this,arguments))/2-un/2;return[K(p)*n,P(p)*n]},t.innerRadius=function(n){return arguments.length?(o=typeof n=="function"?n:C(+n),t):o},t.outerRadius=function(n){return arguments.length?(h=typeof n=="function"?n:C(+n),t):h},t.cornerRadius=function(n){return arguments.length?(z=typeof n=="function"?n:C(+n),t):z},t.padRadius=function(n){return arguments.length?(D=n==null?null:typeof n=="function"?n:C(+n),t):D},t.startAngle=function(n){return arguments.length?(d=typeof n=="function"?n:C(+n),t):d},t.endAngle=function(n){return arguments.length?(Q=typeof n=="function"?n:C(+n),t):Q},t.padAngle=function(n){return arguments.length?(E=typeof n=="function"?n:C(+n),t):E},t.context=function(n){return arguments.length?(r=n??null,t):r},t}export{hn as d};
